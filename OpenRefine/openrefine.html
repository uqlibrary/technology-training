<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="UQ Library">
<meta name="dcterms.date" content="2025-05-29">

<title>OpenRefine: clean up and augment data – UQ Library Technology Training</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-22dd7ec86b2d9c43a62985a176498ee5.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">UQ Library Technology Training</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../Orientation/orientation.html"> 
<span class="menu-text">O-Week</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-user-groups" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">User Groups</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-user-groups">    
        <li>
    <a class="dropdown-item" href="https://uqrug.netlify.app/">
 <span class="dropdown-text">UQ R User Group</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://uqpug.github.io/">
 <span class="dropdown-text">UQ Python User Group</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-training-intensives" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Training Intensives</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-training-intensives">    
        <li>
    <a class="dropdown-item" href="https://camwest5.github.io/r-training-intensive/">
 <span class="dropdown-text">R with RStudio</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://camwest5.github.io/python-training-intensive/">
 <span class="dropdown-text">Python for Data Analysis</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/uqlibrary/technology-training" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../OpenRefine/openrefine.html"><img src="..\images/openrefine.svg" class="img-fluid" width="20"> OpenRefine</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Acrobat/acrobat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/acrobat.svg" class="img-fluid" width="20"> Acrobat</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Audacity/audacity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/audacity.svg" class="img-fluid" width="20"> Audacity</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Excel/excel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/excel.svg" class="img-fluid" width="20"> Excel</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../GenAI/genai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/ChatGPT_logo.svg" class="img-fluid" width="20"> GenAI</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text"><img src="..\images/git.svg" class="img-fluid" width="20"> Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Git/git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git from the command line</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Git/GitHub/GitHub_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GitHub and portfolios</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../LaTeX/overleaf_latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/overleaf.svg" class="img-fluid" width="20"> LaTeX with Overleaf</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../NVivo/nvivo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/nvivo.png" class="img-fluid" width="20"> NVivo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../OpenRefine/openrefine.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><img src="..\images/openrefine.svg" class="img-fluid" width="20"> OpenRefine</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../OSM/OpenStreetMap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/openstreetmap.svg" class="img-fluid" width="20"> OpenStreetMap</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Photoshop/photoshop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/photoshop.svg" class="img-fluid" width="20"> Photoshop</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../PowerPoint/powerpoint.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/powerpoint.svg" class="img-fluid" width="20"> PowerPoint</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Premiere_Pro/premiere_pro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/premiere_pro.svg" class="img-fluid" width="20"> Premiere Pro</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text"><img src="..\images/python.svg" class="img-fluid" width="20"> Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Python/1-fundamentals/fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Python/2-data_processing/data_processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Data processing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Python/3-intro_visualisation/visualisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Visualisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Python/4-stats_and_further_vis/stats_and_vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Statistics and more visualisations</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text"><img src="..\images/QGIS.svg" class="img-fluid" width="20"> QGIS</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../QGIS/intro/QGIS_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../QGIS/raster/QGIS_raster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Raster analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../QGIS/vector/QGIS_vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Vector analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../QGIS/mobile/QGIS_mobile.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Mobile mapping</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Qualtrics/qualtrics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/XM.svg" class="img-fluid" width="20"> Qualtrics</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text"><img src="..\images/R.svg" class="img-fluid" width="20"> R with RStudio</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/rstudio_intro/rstudio_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Getting started</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/dplyr/dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. dplyr: data transformation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/ggplot2_intro/ggplot2_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. ggplot2: introduction to visualisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/ggplot2_intermediate/ggplot2_intermediate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. ggplot2: intermediate visualisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/tidyverse_next_steps/tidyverse_next_steps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. tidyr and purrr: tidying and loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/reports/reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. Quarto: reproducible publishing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/heatmaps/heatmaps_intermediate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7. Heatmaps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/shiny/shiny.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8. Shiny web apps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../R/packaging/packaging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9. Functions and packaging</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../uMap/umap_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/uMap.svg" class="img-fluid" width="20"> uMap</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Shell/shell_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/bash.svg" class="img-fluid" width="20"> Unix Shell</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Voyant/voyant.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/voyant.png" class="img-fluid" width="20"> Voyant Tools</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../Word/word.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="..\images/word.svg" class="img-fluid" width="20"> Word</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#openrefine" id="toc-openrefine" class="nav-link active" data-scroll-target="#openrefine">OpenRefine?</a></li>
  <li><a href="#what-you-will-learn-today" id="toc-what-you-will-learn-today" class="nav-link" data-scroll-target="#what-you-will-learn-today">What you will learn today</a></li>
  <li><a href="#installation" id="toc-installation" class="nav-link" data-scroll-target="#installation">Installation</a></li>
  <li><a href="#create-a-project" id="toc-create-a-project" class="nav-link" data-scroll-target="#create-a-project">Create a project</a></li>
  <li><a href="#layout-of-openrefine" id="toc-layout-of-openrefine" class="nav-link" data-scroll-target="#layout-of-openrefine">Layout of OpenRefine</a></li>
  <li><a href="#reorganising-the-data" id="toc-reorganising-the-data" class="nav-link" data-scroll-target="#reorganising-the-data">Reorganising the data</a></li>
  <li><a href="#facetting-and-filtering" id="toc-facetting-and-filtering" class="nav-link" data-scroll-target="#facetting-and-filtering">Facetting and filtering</a>
  <ul class="collapse">
  <li><a href="#filters" id="toc-filters" class="nav-link" data-scroll-target="#filters">Filters</a></li>
  <li><a href="#facets" id="toc-facets" class="nav-link" data-scroll-target="#facets">Facets</a></li>
  </ul></li>
  <li><a href="#amending-data" id="toc-amending-data" class="nav-link" data-scroll-target="#amending-data">Amending data</a></li>
  <li><a href="#split-multi-valued-cells" id="toc-split-multi-valued-cells" class="nav-link" data-scroll-target="#split-multi-valued-cells">Split multi-valued cells</a></li>
  <li><a href="#view-modes" id="toc-view-modes" class="nav-link" data-scroll-target="#view-modes">View modes</a></li>
  <li><a href="#clustering" id="toc-clustering" class="nav-link" data-scroll-target="#clustering">Clustering</a></li>
  <li><a href="#transformations" id="toc-transformations" class="nav-link" data-scroll-target="#transformations">Transformations</a>
  <ul class="collapse">
  <li><a href="#writing-transformations" id="toc-writing-transformations" class="nav-link" data-scroll-target="#writing-transformations">Writing transformations</a></li>
  <li><a href="#undo-and-redo-actions" id="toc-undo-and-redo-actions" class="nav-link" data-scroll-target="#undo-and-redo-actions">Undo and redo actions</a></li>
  <li><a href="#transforming-strings-numbers-dates-and-boolean" id="toc-transforming-strings-numbers-dates-and-boolean" class="nav-link" data-scroll-target="#transforming-strings-numbers-dates-and-boolean">Transforming strings, numbers, dates and boolean</a></li>
  <li><a href="#handling-arrays" id="toc-handling-arrays" class="nav-link" data-scroll-target="#handling-arrays">Handling arrays</a></li>
  </ul></li>
  <li><a href="#reconciliation" id="toc-reconciliation" class="nav-link" data-scroll-target="#reconciliation">Reconciliation</a></li>
  <li><a href="#exporting-the-data-and-saving-a-project" id="toc-exporting-the-data-and-saving-a-project" class="nav-link" data-scroll-target="#exporting-the-data-and-saving-a-project">Exporting the data and saving a project</a></li>
  <li><a href="#useful-links" id="toc-useful-links" class="nav-link" data-scroll-target="#useful-links">Useful links</a></li>
  <li><a href="#licence" id="toc-licence" class="nav-link" data-scroll-target="#licence">Licence</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">OpenRefine: clean up and augment data</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>UQ Library </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 29, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="openrefine" class="level2">
<h2 class="anchored" data-anchor-id="openrefine">OpenRefine?</h2>
<p><a href="https://openrefine.org/">OpenRefine</a> is an open source program self-described as “a power tool for dealing with messy data”.</p>
<p>It can help you:</p>
<ul>
<li>Get an <strong>overview</strong> of a data set, and explore subsets of it</li>
<li><strong>Resolve inconsistencies</strong> in a data set, for example standardising date formatting or fixing typos</li>
<li><strong>Split data up</strong> into more granular parts, for example splitting up cells with multiple authors into separate cells</li>
<li><strong>Match</strong> local data up to other data sets, for example in matching local subjects against the Library of Congress Subject Headings</li>
<li><strong>Enhance</strong> a data set populating it with data from other sources</li>
</ul>
<p>Some common scenarios might be:</p>
<ul>
<li>Where you want to know how many times a particular value (name, publisher, subject) appears in a column in your data</li>
<li>Where you want to know how values are distributed across your whole data set</li>
<li>Where you have a list of dates which are formatted in different ways, and want to change all the dates in the list to a single common date format</li>
<li>Where you have a list of names or terms that differ from each other but refer to the same people, places or concepts</li>
<li>Where you have several bits of data combined together in a single column, and you want to separate them out into new columns.</li>
</ul>
</section>
<section id="what-you-will-learn-today" class="level2">
<h2 class="anchored" data-anchor-id="what-you-will-learn-today">What you will learn today</h2>
<ol type="1">
<li>Import and export data</li>
<li>What “facets” and “filters” are</li>
<li>Edit cells</li>
<li>Edit columns</li>
<li>Group and transform data</li>
<li>Reconcile a column with Wikidata</li>
</ol>
</section>
<section id="installation" class="level2">
<h2 class="anchored" data-anchor-id="installation">Installation</h2>
<p>This lesson was designed using OpenRefine 3.8 but should be compatible with other supported versions.</p>
<p>OpenRefine requires to have a Java Runtime Environment (JRE) installed. Depending on your operating system, you might need to install one from the <a href="https://java.com/en/">Java website</a>, or use the Windows kit with embedded Java.</p>
<p>To install and run OpenRefine on your operating system, please follow the <a href="https://openrefine.org/download">instructions on the official website</a>.</p>
</section>
<section id="create-a-project" class="level2">
<h2 class="anchored" data-anchor-id="create-a-project">Create a project</h2>
<p>OpenRefine can deal with formats like TSV, CSV, ODS, XLS and XLSX, JSON, RDF, XML and more.</p>
<p><strong>Exercise 1</strong> – Create a project and import data</p>
<ol type="1">
<li>In the “Create project” screen that opens when starting OpenRefine, select <code>Web Addresses (URL)</code></li>
<li>Enter the URL to our data: https://raw.githubusercontent.com/LibraryCarpentry/lc-open-refine/gh-pages/data/doaj-article-sample.csv</li>
<li>Click “Next”</li>
<li>Click in the <code>Character encoding</code> box and select <code>UTF-8</code></li>
<li>This screen is also where you can ignore rows, name the project, assign tags…</li>
<li>Click on <code>Create Project</code></li>
</ol>
<p>You might not have to change the character encoding, but if you see inaccuracies in how special characters are displayed, you will have to find the right one for your data.</p>
</section>
<section id="layout-of-openrefine" class="level2">
<h2 class="anchored" data-anchor-id="layout-of-openrefine">Layout of OpenRefine</h2>
<blockquote class="blockquote">
<p>How is data organised? How do I navigate it?</p>
</blockquote>
<p>OpenRefine displays data in a tabular format: rows usually are records, and columns are a type of information.</p>
<p>You can decide how many rows you want to show at once, and navigate the pages with the controls above the table.</p>
<p>Drop-down menus next to the column headers allow you to do operations on the whole column.</p>
</section>
<section id="reorganising-the-data" class="level2">
<h2 class="anchored" data-anchor-id="reorganising-the-data">Reorganising the data</h2>
<p>You can <strong>reorder and remove columns</strong> by clicking the drop-down menu at the top of the first column (labelled ‘All’), and choosing <code>Edit columns &gt; Re-order / remove columns…</code>.</p>
<p>You can then drag and drop column names to reorder the columns, or remove columns completely if they are not required. For example, move the <code>Publisher</code> column closer to the beginning, and remove the <code>ISSNs</code> column.</p>
<p>You can also <strong>sort the rows</strong> by clicking on the drop-down menu for the column you want to sort on, and choosing <code>Sort</code>.The sorting is not permanent, and a new <code>Sort</code> drop-down menu appears at the top, which allows you to modify the current sort, remove it, or make the sort permanent.</p>
</section>
<section id="facetting-and-filtering" class="level2">
<h2 class="anchored" data-anchor-id="facetting-and-filtering">Facetting and filtering</h2>
<blockquote class="blockquote">
<p>What are filters and facets in OpenRefine? How can they help me navigate data? How can I correct common data issues?</p>
</blockquote>
<p>Facets and filters will allow you to gain insights on your data, zero-in onto issues you want to fix by hand, or only apply automated edits to one subset of your dataset.</p>
<p>Facet and filter information always appears in the left-hand panel in the OpenRefine interface, and they can be combined for more complex searches.</p>
<section id="filters" class="level3">
<h3 class="anchored" data-anchor-id="filters">Filters</h3>
<p>You can apply a <strong>text filter</strong> to your data to do a search and restrict the displayed items to it.</p>
<p>In the column drop-down menu, you can use the <code>Text filter</code> item and specify any string you want to filter for.</p>
<p>For example, try filtering the <code>Subjects</code> column with the term <code>physic</code>. The number of matching rows is displayed above the table.</p>
</section>
<section id="facets" class="level3">
<h3 class="anchored" data-anchor-id="facets">Facets</h3>
<p>A <strong>facet</strong> groups all the values that appear in a column, and allows you to subset the data and edit values across many records at the same time.</p>
<p>The simplest type of Facet is called a ‘Text facet’. It groups all the text values in a column and lists each value with the number of records it appears in.</p>
<p>Let’s create a Text Facet for a column:</p>
<ol type="1">
<li>Click on the drop-down menu at the top of the <code>Publisher</code> column and choose <code>Facet &gt; Text Facet</code></li>
<li>Filter the data by clicking on a value</li>
<li>Add more values with <code>include</code></li>
<li>You can <code>invert</code> your selection</li>
<li>Click <code>reset</code> to deselect all values.</li>
</ol>
<p><strong>Exercise 2</strong> – Explore licenses</p>
<blockquote class="blockquote">
<p>Which licences are used for articles in this dataset? Which one is the most common? How many articles don’t have a licence?</p>
</blockquote>
<ol type="1">
<li>In the <code>License</code> column drop-down menu, choose <code>Facet &gt; Text facet</code></li>
<li><code>CC BY</code> has the highest count</li>
<li>6 articles don’t have a <code>License</code> value, marked <code>(blank)</code></li>
<li>Notice that filtering the data with this facet will update the values in the <code>Publisher</code> facet. This makes it easy to see which publishers use which licences.</li>
<li>Close both facets with the “Remove All” button</li>
</ol>
<p>There are more facets available, like numeric and timeline facets that produce graphs, or even custom facets for more advanced operations, like facets that return a logical value (“true” or “false”).</p>
<p><strong>Exercise 3</strong> – Facet by blank</p>
<p>Find all the publications without a DOI (digital object identifier) with the <code>Facet by blank</code>. How many are there?</p>
<ol type="1">
<li><code>Facet &gt; Customized facet &gt; Facet by blank</code></li>
</ol>
<p>This is more efficient than a text facet, as it will only give two categories: “true” for blank cells, “false” for cells with a value. You could then focus on the blank cells to populate the missing data by hand (an “Edit” button appears when you hover over a cell).</p>
<blockquote class="blockquote">
<p>When you filter your data with facets or text filters, remember that any operation that you carry out will only apply to the matches.</p>
</blockquote>
</section>
</section>
<section id="amending-data" class="level2">
<h2 class="anchored" data-anchor-id="amending-data">Amending data</h2>
<p>Using a text facet, you can edit values for a whole subset in one action with the <code>edit</code> option. This is very useful for fixing small typos or variations in spelling.</p>
<p><strong>Exercise 4</strong> – Correct values</p>
<p>Use a text facet on the <code>Language</code> column to replace <code>English</code> values with the language code <code>EN</code>.</p>
<ol type="1">
<li><code>Facet &gt; Text facet</code></li>
<li>Hover over the term <code>English</code> and click <code>edit</code></li>
<li>Replace it with <code>EN</code> and click <code>Apply</code></li>
</ol>
<p>All the occurrences of <code>English</code> are replaced by <code>EN</code>, and the facet auto-updates to only show the remaining values.</p>
</section>
<section id="split-multi-valued-cells" class="level2">
<h2 class="anchored" data-anchor-id="split-multi-valued-cells">Split multi-valued cells</h2>
<blockquote class="blockquote">
<p>How do I deal with cells that contain multiple values?</p>
</blockquote>
<p>Author names are currently separated with the pipe symbol <code>|</code>. We can use the <code>Split multi-valued cells</code> function to put them in their own cells.</p>
<p><strong>Exercise 5</strong> – Split multi-valued cells</p>
<ol type="1">
<li>Open the drop-down menu for the <code>Authors</code> column</li>
<li>Select <code>Edit cells</code> &gt; <code>Split multi-valued cells</code></li>
<li>Use the pipe character <code>|</code> as a separator</li>
<li>Click OK</li>
</ol>
<p>Note that we now have a lot more rows, and that they are still numbered sequentially.</p>
<p>How would we join data from several cells together, for example after cleaning the data up? We can do the opposite operation, with <code>Edit cells</code> &gt; <code>Join multi-valued cells</code>, and deciding which character we want to use to separate values.</p>
<blockquote class="blockquote">
<p>Make sure you choose the right delimiter for the kind of data you deal with!</p>
</blockquote>
<p><strong>Exercise 6</strong> – Practise splitting and joining</p>
<p>How would you split and then join again the data in the <code>Subjects</code> column?</p>
</section>
<section id="view-modes" class="level2">
<h2 class="anchored" data-anchor-id="view-modes">View modes</h2>
<p>OpenRefine has two <strong>view modes</strong> for viewing data: <code>Rows</code> and <code>Records</code>. In <code>Records</code> mode, OpenRefine can link together multiple rows as belonging to the same record.</p>
<p>Switch to the <code>records</code> mode. Note how the numbering has changed: several rows are related to the same record, because of the splitting we just did.</p>
<p>If you now filter for an author name, notice how the “rows” and “records” view will change how much is displayed? We can stick to “records” to have all the associated information.</p>
</section>
<section id="clustering" class="level2">
<h2 class="anchored" data-anchor-id="clustering">Clustering</h2>
<blockquote class="blockquote">
<p>What can I use to identify and replace varying forms of the same data?</p>
</blockquote>
<p>Fixing variations by hand like we did for the languages works fine for small numbers of values, but if there are hundreds or more, it becomes very impractical.</p>
<p>The <strong>Cluster</strong> function uses an algorithm to group together similar, but inconsistent values in a given column and lets you merge these inconsistent values into a single value you choose.</p>
<p>This is very effective where you have data with minor variations in values, e.g.&nbsp;names of people, organisations, places, classification terms…</p>
<p><strong>Exercise 7</strong> – clean up the author names</p>
<ol type="1">
<li>Make sure your authors are already split into different rows</li>
<li>Choose <code>Edit cells &gt; Cluster and edit</code> from the <code>Authors</code> column</li>
<li>Using the defaults (<code>key collision</code> Method and <code>fingerprint</code> Keying Function), click “Cluster” and work through the clusters of values, merging them into a single value where appropriate</li>
</ol>
<p>By default, OpenRefine uses the most common value to merge the data, but we can choose which value we prefer by clicking on it, or we can write our own replacement value.</p>
<ol start="4" type="1">
<li>You can also try changing the clustering method being used – which ones work well? Do they identify extra clusters?</li>
</ol>
<blockquote class="blockquote">
<p>The best clustering algorithm will depend on the kind of data your are processing. For more information on available algorithms, see the <a href="https://docs.openrefine.org/manual/cellediting#clustering-methods">documentation page on clustering methods</a>.</p>
</blockquote>
</section>
<section id="transformations" class="level2">
<h2 class="anchored" data-anchor-id="transformations">Transformations</h2>
<p>Facets, filters and clustering already allow us to explore and clean up our data.</p>
<p>To do more advanced operations, like splitting data into several columns, standardising a format without losing the original values, or extracting a data type from a string, we need <strong>transformations</strong>.</p>
<p>Transformations are ways of manipulating data in columns. They are normally written in a special language called <strong>GREL</strong> (General Refine Expression Language).</p>
<p>Some common transformations are accessible directly in the menus, for example to change the case of the values, or to remove bounding whitespace characters.</p>
<p><strong>Exercises 8</strong> – Correct publisher data</p>
<ol type="1">
<li>Create a text facet on the <code>Publisher</code> column</li>
<li>Note that in the values there are two that look identical – why does this value appear twice?</li>
<li>On the <code>Publisher</code> column, use the drop-down menu to select <code>Edit cells &gt; Common transforms &gt; Collapse consecutive whitespace</code></li>
<li>Look at the publisher facet now – has it changed? (if it hasn’t changed, try clicking the <code>Refresh</code> option to make sure it updates)</li>
</ol>
<section id="writing-transformations" class="level3">
<h3 class="anchored" data-anchor-id="writing-transformations">Writing transformations</h3>
<p>The transformation screen is available through <code>Edit cells &gt; Transform...</code>, in which you can write your <strong>custom GREL command</strong> with various <strong>functions</strong> and preview its effect.</p>
<p>GREL supports two types of syntax:</p>
<ul>
<li><code>value.function(options)</code></li>
<li><code>function(value, options)</code></li>
</ul>
<p>Either is valid, and which is used is completely down to personal preference. In these notes the first syntax is used, as it is easier to read when writing long commands.</p>
<p>The most simple “transformation” is <code>value</code>, which will keep the data as it is. We need to add extra functions to the command to actually modify the original value.</p>
<p><strong>Exercise 9</strong> – Put titles into Title Case</p>
<p>Use Facets and the GREL function <code>toTitlecase()</code> to put some titles in Title Case:</p>
<ol type="1">
<li>Facet by <code>Publisher</code></li>
<li>Select “Akshantala Enterprises” and “Society of Pharmaceutical Technocrats” (To select multiple values in the facet, use the “include” link that appears to the right of the facet.)</li>
<li>See that the Titles for these are all in uppercase</li>
<li>Click the drop-down menu on the <code>Title column</code></li>
<li>Choose <code>Edit cells &gt; Transform...</code></li>
<li>In the Expression box type <code>value.toTitlecase()</code></li>
<li>In the <code>Preview</code> tab, see the effect of running this will be</li>
<li>Click “OK”</li>
</ol>
<p>Note that this transformation is also available in the <code>Common transforms</code>.</p>
<blockquote class="blockquote">
<p>Back in the Transform dialog, you can now see a history of transformations, and save your favourite ones by clicking on the star next to them. The <code>Help</code> tab is also a helpful reference.</p>
</blockquote>
</section>
<section id="undo-and-redo-actions" class="level3">
<h3 class="anchored" data-anchor-id="undo-and-redo-actions">Undo and redo actions</h3>
<p>In the left-hand panel, you can open the <code>Undo / Redo</code> tab to access all the steps taken so far, and <strong>undo steps</strong> by clicking the last step you want to preserve.</p>
<p>The <code>Extract...</code> button allows you to <strong>save a set of steps</strong> as a JSON (JavaScript Object Notation) script, to re-apply them later on this or any other dataset. To execute an extracted set of steps, click the <code>Apply</code> button.</p>
</section>
<section id="transforming-strings-numbers-dates-and-boolean" class="level3">
<h3 class="anchored" data-anchor-id="transforming-strings-numbers-dates-and-boolean">Transforming strings, numbers, dates and boolean</h3>
<blockquote class="blockquote">
<p>How do I transform different data types?</p>
</blockquote>
<p><strong>Data types</strong> and <strong>regular expressions</strong> will allow you to write more complex GREL transformations.</p>
<p>All data in OpenRefine has a “type”. The most common is “string”, which is a piece of text. Data types supported are:</p>
<ul>
<li>String</li>
<li>Number</li>
<li>Date-time</li>
<li>Boolean (logical)</li>
<li>Array</li>
</ul>
<p><strong>Date and numbers</strong>: we currently have a <code>Date</code> column where the data is represented as a string. If we wanted to sort according to this data, it would not end up chronological. We therefore need to convert the values to a date data type for OpenRefine to interpret them properly.</p>
<p><strong>Exercise 10</strong> – Reformat the date</p>
<ol type="1">
<li>Make sure you remove all Facets and Filters</li>
<li>On the <code>Date</code> column, use the drop-down menu to select <code>Edit cells &gt; Common transforms &gt; To date</code></li>
<li>Note how the values are now displayed in green and follow a standard convention for their display format (ISO8601) - this indicates they are now stored as date-time data types in OpenRefine. We can now carry out functions that are specific to Dates.</li>
<li>In the <code>Date</code> column drop-down, select <code>Edit column &gt; Add column based on this column</code>. Using this dialog, you can create a new column, while preserving the old column.</li>
<li>In the ‘New column name’ type “Formatted Date”</li>
<li>In the ‘Expression’ box, type the GREL expression <code>value.toString("dd MMMM yyyy")</code></li>
</ol>
<p>Having a column with the proper data type will also allow us to use features like the timeline facet.</p>
<p><strong>Booleans</strong>: a boolean is a binary value that can either be “true” or “false”. They are often used in GREL expressions, for example:</p>
<pre><code>value.contains("test")</code></pre>
<p>… generates a boolean value which depends on whether the cell value contains the string “test” anywhere.</p>
<p>That allows use to build more complex transformations, for example by carrying out a transformation <em>only if a test is successful</em>:</p>
<pre><code>if(value.contains("test"),"replacement text",value)</code></pre>
<p>… replaces a cell value with the string “replacement text” only if the value in the cell contains the string “test” anywhere.</p>
</section>
<section id="handling-arrays" class="level3">
<h3 class="anchored" data-anchor-id="handling-arrays">Handling arrays</h3>
<p>There is another inconsistency in our “Authors” column: a few names are using the order <code>&lt;last name&gt;, &lt;first name&gt;</code>, and all others use the <code>&lt;first name&gt; &lt;last name&gt;</code> order. We’d like to stick to the same order for all, but to do that, we need to talk about arrays.</p>
<blockquote class="blockquote">
<p>How do I use arrays in a GREL expression?</p>
</blockquote>
<p>An <strong>array</strong> is a list of values. Arrays can be sorted, de-duplicated and manipulated in other ways in GREL expressions. They usually are the <em>result</em> of a transformation, and cells can’t contain them.</p>
<p>For example, if a cell contains the following string:</p>
<pre><code>“Monday,Tuesday,Wednesday,Thursday,Friday,Saturday,Sunday”</code></pre>
<p>… it can be transformed into an array with the <code>split</code> function:</p>
<pre><code>value.split(",")</code></pre>
<p>… which would result in the following array:</p>
<pre><code>[“Monday”,”Tuesday”,”Wednesday”,”Thursday”,”Friday”,”Saturday”,”Sunday”]</code></pre>
<p>Combining the <code>split</code> function with a <code>sort</code> function like so:</p>
<pre><code>value.split(",").sort()</code></pre>
<p>… would result in an array of days of the week sorted alphabetically:</p>
<pre><code>[“Friday”,”Monday”,”Saturday”,”Sunday”,”Thursday”,”Tuesday”,”Wednesday”]</code></pre>
<p>You can output a value from an array by specifying its position in the list. To extract the first value of the array created by the <code>split</code> function:</p>
<pre><code>value.split(",")[0]</code></pre>
<blockquote class="blockquote">
<p>Many programming languages, like GREL, start indexing at 0, which is why we have to use the 0th position to return the first element of the array.</p>
</blockquote>
<p>If you want to go back to one single string, in order to store the result in cells, you can use the <code>join</code> function:</p>
<pre><code>value.split(",").sort().join(",")</code></pre>
<p><strong>Exercise 11</strong> – Reverse author names</p>
<p>We can focus on the rows that have a comma in their author name:</p>
<ol type="1">
<li>Using the “Authors” column drop-down menu, use a <code>Text filter</code></li>
<li>Filter for the comma character: “,”.</li>
</ol>
<p>Now that we have narrowed down to the lines with a comma in the author name, we can use the <code>split()</code> function.</p>
<ol start="3" type="1">
<li>On the Authors column use the drop-down menu and select <code>Edit cells &gt; Transform</code></li>
<li>In the Expression box type <code>value.split(", ")</code>. This will create an array of separate last name and first name, removing the comma and space.</li>
</ol>
<p>To get the author name in the natural order, you can reverse the array and join it back together with a space to create the string you need:</p>
<ol start="5" type="1">
<li>In the Expression box, add to the existing expression until it reads <code>value.split(", ").reverse().join(" ")</code></li>
<li>In the Preview section, you should be able see this has reversed the array, and joined it back into a string, without any comma</li>
<li>Click <code>OK</code> to apply your transformation, and notice how your filter shows 0 results, because all commas have been removed in the “Authors” column.</li>
</ol>
<blockquote class="blockquote">
<p>For more elaborate array creation, we can use the <code>match()</code> function along with Regular Expressions. Regular Expressions, or “Regex”, use a syntax to match pretty much any pattern of characters.</p>
</blockquote>
</section>
</section>
<section id="reconciliation" class="level2">
<h2 class="anchored" data-anchor-id="reconciliation">Reconciliation</h2>
<p>We can associate one of our columns to an external database by using OpenRefine’s reconciliation feature:</p>
<p><strong>Exercise 12</strong> – Reconcile publisher data against Wikidata</p>
<ul>
<li>On the “Publisher” column, select <code>Reconcile &gt; Start reconciling...</code>. The default service listed is Wikidata.</li>
<li>The tool will automatically try to match the column to a Wikidata type, but we can specify exactly the one we want to use.</li>
<li>After checking the existing matches, and completing by hand the missing ones, we can add extra data to our project by using <code>Edit column &gt; Add columns for reconciled values</code>. For example, try adding the headquarters location of the publishers into a new column.</li>
</ul>
</section>
<section id="exporting-the-data-and-saving-a-project" class="level2">
<h2 class="anchored" data-anchor-id="exporting-the-data-and-saving-a-project">Exporting the data and saving a project</h2>
<blockquote class="blockquote">
<p>How do I export transformed data?</p>
</blockquote>
<p>OpenRefine can <strong>export a transformed dataset</strong> into a variety of formats. You can access the menu with the top-right <code>Export</code> button. The <code>Custom Tabular Exporter</code> offers extra options, like selecting a subset of columns, reordering them, removing headers, selecting a format and uploading as a Google Spreadsheet.</p>
<p>Your project is <strong>automatically saved every 15 minutes</strong> and can be reopened with <code>Open Project</code> when you next start OpenRefine. However, if you need to share or save a snapshot of your project, you can use <code>Export &gt; Export project</code> to download an archive.</p>
<blockquote class="blockquote">
<p>When you quit OpenRefine, make sure you interrupt the OpenRefine process properly with <kbd>Ctrl</kbd> + <kbd>C</kbd> (for both Windows and Linux) or <kbd>Command</kbd> + <kbd>Q</kbd> (for MacOS) in the terminal, to guarantee that your project changes are saved. See the official <a href="https://docs.openrefine.org/manual/running#starting-and-exiting">documentation on starting and exiting OpenRefine</a>.</p>
</blockquote>
</section>
<section id="useful-links" class="level2">
<h2 class="anchored" data-anchor-id="useful-links">Useful links</h2>
<p>OpenRefine learning:</p>
<ul>
<li>Full lesson this one is based on: https://librarycarpentry.github.io/lc-open-refine/
<ul>
<li>“Advanced functions” chapter: https://librarycarpentry.github.io/lc-open-refine/13-looking-up-data/index.html</li>
</ul></li>
<li>Video walk throughs: http://openrefine.org/</li>
<li>Video tutorial on reconciliation and Wikidata contribution: https://www.youtube.com/watch?v=wfS1qTKFQoI</li>
<li>Getting started with OpenRefine by Thomas Padilla: http://thomaspadilla.org/dataprep/</li>
<li>Cleaning Data with OpenRefine by Seth van Hooland, Ruben Verborgh and Max De Wilde: http://programminghistorian.org/lessons/cleaning-data-with-openrefine</li>
<li>Free your Metadata website: http://freeyourmetadata.org/</li>
<li>OpenRefine Blog: http://openrefine.org/category/blog.html</li>
<li>Official OpenRefine documentation:
<ul>
<li>GREL documentation: https://docs.openrefine.org/manual/expressions#grel-general-refine-expression-language</li>
<li>Clustering in Depth: https://github.com/OpenRefine/OpenRefine/wiki/Clustering-In-Depth</li>
<li>A compilation of “OpenRefine recipes”: https://github.com/OpenRefine/OpenRefine/wiki/Recipes</li>
</ul></li>
</ul>
<p>Regular Expressions:</p>
<ul>
<li>Understanding Regular Expressions: https://github.com/OpenRefine/OpenRefine/wiki/Understanding-Regular-Expressions</li>
<li>RegEx + GREL cheatsheet: https://code4libtoronto.github.io/2018-10-12-access/GoogleRefineCheatSheets.pdf</li>
</ul>
<p>Other data sources for reconciliation:</p>
<ul>
<li>https://github.com/OpenRefine/OpenRefine/wiki/Reconcilable-Data-Sources</li>
</ul>
<p>Examples of OpenRefine uses:</p>
<ul>
<li>Identifying potential headings for Authority work using III Sierra, MS Excel and OpenRefine: http://epublications.marquette.edu/lib_fac/81/</li>
<li>Data Munging Tools in Preparation for RDF: Catmandu and LODRefine by Christina Harlow: http://journal.code4lib.org/articles/11013</li>
<li>Blog posts on using OpenRefine from Owen Stephens: http://www.meanboyfriend.com/overdue_ideas/tag/openrefine/?orderby=date&amp;order=ASC</li>
</ul>
<p>Another dataset to play around with:</p>
<ul>
<li>http://www.thomaspadilla.org/data/dataprep/authors-people.csv</li>
</ul>
</section>
<section id="licence" class="level2">
<h2 class="anchored" data-anchor-id="licence">Licence</h2>
<p>This lesson is based on a Library Carpentry lesson, available here: https://librarycarpentry.github.io/lc-open-refine/ It is also released under a <a href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution license</a>. The following is a human-readable summary of (and not a substitute for) the <a href="https://creativecommons.org/licenses/by/4.0/legalcode">full legal text of the CC BY 4.0 license</a>.</p>
<p>You are free:</p>
<ul>
<li>to <strong>Share</strong> – copy and redistribute the material in any medium or format</li>
<li>to <strong>Adapt</strong> – remix, transform, and build upon the material</li>
</ul>
<p>for any purpose, even commercially.</p>
<p>Under the following terms:</p>
<ul>
<li><strong>Attribution</strong> – You must give appropriate credit (mentioning that your work is derived from work that is Copyright © Stéphane Guillou and, where practical, linking to https://gitlab.com/stragu/DSH), provide a <a href="https://creativecommons.org/licenses/by/4.0/">link to the license</a>, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.</li>
</ul>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/uqlibrary\.github\.io\/technology-training\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>