<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="UQ Library">
<meta name="dcterms.date" content="2025-10-10">

<title>QGIS: Refine Your Maps for Reporting and Publication – UQ Library Technology Training</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<link href="../..//images/laptop_icon.svg" rel="icon" type="image/svg+xml">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5f1f5d646c7fcd9202c689c493e95c64.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">UQ Library Technology Training</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../Orientation/orientation.html"> 
<span class="menu-text">O-Week</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-user-groups" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">User Groups</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-user-groups">    
        <li>
    <a class="dropdown-item" href="https://uqrug.netlify.app/">
 <span class="dropdown-text">UQ R User Group</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://uqpug.github.io/">
 <span class="dropdown-text">UQ Python User Group</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-training-intensives" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Training Intensives</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-training-intensives">    
        <li>
    <a class="dropdown-item" href="https://camwest5.github.io/r-training-intensive/">
 <span class="dropdown-text">R with RStudio</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://camwest5.github.io/python-training-intensive/">
 <span class="dropdown-text">Python for Data Analysis</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../more_training.html"> 
<span class="menu-text">Training Elsewhere</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://web.library.uq.edu.au/study-and-learning-support/training-and-workshops/online-and-person-workshops#keyword=;campus=;weekstart="> 
<span class="menu-text"><strong>Book a Workshop</strong></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
    <a href="https://github.com/uqlibrary/technology-training" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../QGIS/intro/QGIS_intro.html"><img src="../../images/QGIS.svg" class="img-fluid" width="20"> QGIS</a></li><li class="breadcrumb-item"><a href="../../QGIS/reports/QGIS_reports.html">5. Refined Maps for Publication</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Acrobat/acrobat.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/acrobat.svg" class="img-fluid" width="20"> Acrobat</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Audacity/audacity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/audacity.svg" class="img-fluid" width="20"> Audacity</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Excel/excel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/excel.svg" class="img-fluid" width="20"> Excel</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../GenAI/genai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/ChatGPT_logo.svg" class="img-fluid" width="20"> GenAI</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text"><img src="../../images/git.svg" class="img-fluid" width="20"> Git</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Git/git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Git from the command line</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Git/GitHub/GitHub_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GitHub and portfolios</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../LaTeX/overleaf_latex.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/overleaf.svg" class="img-fluid" width="20"> <span class="math inline">\(\LaTeX\)</span> with Overleaf</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Loop/loop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/loop.svg" class="img-fluid" width="20"> Loop</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../NVivo/nvivo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/nvivo.png" class="img-fluid" width="20"> NVivo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../OpenRefine/openrefine.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/openrefine.svg" class="img-fluid" width="20"> OpenRefine</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../OSM/OpenStreetMap.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/openstreetmap.svg" class="img-fluid" width="20"> OpenStreetMap</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Photoshop/photoshop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/photoshop.svg" class="img-fluid" width="20"> Photoshop</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../PowerPoint/powerpoint.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/powerpoint.svg" class="img-fluid" width="20"> PowerPoint</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Premiere_Pro/premiere_pro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/premiere_pro.svg" class="img-fluid" width="20"> Premiere Pro</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false">
 <span class="menu-text"><img src="../../images/python.svg" class="img-fluid" width="20"> Python</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Python/1-fundamentals/fundamentals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. The Fundamentals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Python/2-data_processing/data_processing.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Data Analysis and Transformation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Python/3-intro_visualisation/visualisation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Introductory Visualisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Python/4-stats_and_further_vis/stats_and_vis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Statistics and Further Visualisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Python/5-python_toolkit/python_toolkit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. Building your Python toolkit</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text"><img src="../../images/QGIS.svg" class="img-fluid" width="20"> QGIS</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../QGIS/intro/QGIS_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Introduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../QGIS/raster/QGIS_raster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Raster analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../QGIS/vector/QGIS_vector.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. Vector analysis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../QGIS/fieldwork/QGIS_fieldwork.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. Fieldwork Data Collection</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../QGIS/reports/QGIS_reports.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">5. Refined Maps for Publication</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Qualtrics/qualtrics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/XM.svg" class="img-fluid" width="20"> Qualtrics</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text"><img src="../../images/R.svg" class="img-fluid" width="20"> R with RStudio</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/installation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">0. Installing R and RStudio</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/rstudio_intro/rstudio_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">1. Getting started</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/dplyr/dplyr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. dplyr: data transformation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/ggplot2_intro/ggplot2_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">3. ggplot2: introduction to visualisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/ggplot2_intermediate/ggplot2_intermediate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">4. ggplot2: intermediate visualisation</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/tidyverse_next_steps/tidyverse_next_steps.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">5. tidyr and purrr: tidying and loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/reports/reports.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">6. Quarto: reproducible publishing</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/heatmaps/heatmaps_intermediate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">7. Heatmaps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/shiny/shiny.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">8. Shiny web apps</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../R/packaging/packaging.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">9. Functions and packaging</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../uMap/umap_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/uMap.svg" class="img-fluid" width="20"> uMap</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Shell/shell_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/bash.svg" class="img-fluid" width="20"> Unix Shell</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Voyant/voyant.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/voyant.png" class="img-fluid" width="20"> Voyant Tools</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Word/word.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><img src="../../images/word.svg" class="img-fluid" width="20"> Word</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#setting-up" id="toc-setting-up" class="nav-link active" data-scroll-target="#setting-up">Setting up</a></li>
  <li><a href="#todays-aims" id="toc-todays-aims" class="nav-link" data-scroll-target="#todays-aims">Today’s Aims</a></li>
  <li><a href="#download-the-data" id="toc-download-the-data" class="nav-link" data-scroll-target="#download-the-data">Download the Data</a></li>
  <li><a href="#change-the-symbology" id="toc-change-the-symbology" class="nav-link" data-scroll-target="#change-the-symbology">Change the Symbology</a>
  <ul class="collapse">
  <li><a href="#point-geometry" id="toc-point-geometry" class="nav-link" data-scroll-target="#point-geometry">Point Geometry</a></li>
  <li><a href="#line-geometry" id="toc-line-geometry" class="nav-link" data-scroll-target="#line-geometry">Line Geometry</a></li>
  <li><a href="#polygon-geometry" id="toc-polygon-geometry" class="nav-link" data-scroll-target="#polygon-geometry">Polygon Geometry</a></li>
  </ul></li>
  <li><a href="#labels" id="toc-labels" class="nav-link" data-scroll-target="#labels">Labels</a></li>
  <li><a href="#styles" id="toc-styles" class="nav-link" data-scroll-target="#styles">Styles</a></li>
  <li><a href="#themes" id="toc-themes" class="nav-link" data-scroll-target="#themes">Themes</a></li>
  <li><a href="#basemaps" id="toc-basemaps" class="nav-link" data-scroll-target="#basemaps">Basemaps</a></li>
  <li><a href="#themes-again" id="toc-themes-again" class="nav-link" data-scroll-target="#themes-again">Themes (again)</a></li>
  <li><a href="#layout-manager" id="toc-layout-manager" class="nav-link" data-scroll-target="#layout-manager">Layout Manager</a>
  <ul class="collapse">
  <li><a href="#page-properties" id="toc-page-properties" class="nav-link" data-scroll-target="#page-properties">Page Properties</a></li>
  <li><a href="#guides" id="toc-guides" class="nav-link" data-scroll-target="#guides">Guides</a></li>
  <li><a href="#map" id="toc-map" class="nav-link" data-scroll-target="#map">Map</a></li>
  <li><a href="#scale" id="toc-scale" class="nav-link" data-scroll-target="#scale">Scale</a></li>
  <li><a href="#inset-map" id="toc-inset-map" class="nav-link" data-scroll-target="#inset-map">Inset Map</a></li>
  <li><a href="#themes-again-1" id="toc-themes-again-1" class="nav-link" data-scroll-target="#themes-again-1">Themes (again!)</a></li>
  <li><a href="#title" id="toc-title" class="nav-link" data-scroll-target="#title">Title</a></li>
  <li><a href="#dynamic-text" id="toc-dynamic-text" class="nav-link" data-scroll-target="#dynamic-text">Dynamic Text</a></li>
  <li><a href="#shapes" id="toc-shapes" class="nav-link" data-scroll-target="#shapes">Shapes</a></li>
  <li><a href="#legend" id="toc-legend" class="nav-link" data-scroll-target="#legend">Legend</a></li>
  <li><a href="#north-arrow" id="toc-north-arrow" class="nav-link" data-scroll-target="#north-arrow">North Arrow</a></li>
  <li><a href="#scalebar" id="toc-scalebar" class="nav-link" data-scroll-target="#scalebar">Scalebar</a></li>
  <li><a href="#finessing" id="toc-finessing" class="nav-link" data-scroll-target="#finessing">Finessing</a></li>
  <li><a href="#export-options" id="toc-export-options" class="nav-link" data-scroll-target="#export-options">Export options</a></li>
  </ul></li>
  <li><a href="#save-a-map-template" id="toc-save-a-map-template" class="nav-link" data-scroll-target="#save-a-map-template">Save a Map Template</a></li>
  <li><a href="#load-a-map-template" id="toc-load-a-map-template" class="nav-link" data-scroll-target="#load-a-map-template">Load a Map Template</a>
  <ul class="collapse">
  <li><a href="#map-scale" id="toc-map-scale" class="nav-link" data-scroll-target="#map-scale">Map Scale</a></li>
  <li><a href="#scalebar-1" id="toc-scalebar-1" class="nav-link" data-scroll-target="#scalebar-1">Scalebar</a></li>
  <li><a href="#legend-1" id="toc-legend-1" class="nav-link" data-scroll-target="#legend-1">Legend</a></li>
  <li><a href="#title-1" id="toc-title-1" class="nav-link" data-scroll-target="#title-1">Title</a></li>
  </ul></li>
  <li><a href="#feedback" id="toc-feedback" class="nav-link" data-scroll-target="#feedback">Feedback</a></li>
  <li><a href="#more-data-sources" id="toc-more-data-sources" class="nav-link" data-scroll-target="#more-data-sources">More Data Sources</a>
  <ul class="collapse">
  <li><a href="#aerial-imagery" id="toc-aerial-imagery" class="nav-link" data-scroll-target="#aerial-imagery">Aerial Imagery</a></li>
  <li><a href="#georeferencing" id="toc-georeferencing" class="nav-link" data-scroll-target="#georeferencing">Georeferencing</a></li>
  <li><a href="#more-web-mapping-services" id="toc-more-web-mapping-services" class="nav-link" data-scroll-target="#more-web-mapping-services">More Web Mapping Services</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../QGIS/intro/QGIS_intro.html"><img src="../../images/QGIS.svg" class="img-fluid" width="20"> QGIS</a></li><li class="breadcrumb-item"><a href="../../QGIS/reports/QGIS_reports.html">5. Refined Maps for Publication</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">QGIS: Refine Your Maps for Reporting and Publication</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>UQ Library </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">October 10, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="setting-up" class="level2">
<h2 class="anchored" data-anchor-id="setting-up">Setting up</h2>
<p>This is an intermediate level tutorial. Before completing this tutorial, we recommend our <a href="../../QGIS/intro/QGIS_intro.html">QGIS: Introduction to Mapping</a> tutorial. This tutorial is designed for <strong>QGIS 3.40</strong>. If you need to install it on your computer, go to the <a href="https://qgis.org/download/">QGIS website</a>.</p>
<p>We will start as always by creating a good folder structure to work within. This folder is where our project, our data, and creations will live. Folder structure is very important for keeping your data tidy, as well as for ease of sharing your project with others. You simply need to zip the project folder if you need to share the whole thing.</p>
<ul>
<li><p>Open QGIS and create a <strong>new project</strong> with <code>Project &gt; New</code>.</p></li>
<li><p>Let’s now <strong>save</strong> our project: <code>Project &gt; Save</code>.</p></li>
<li><p>Create a new folder, let’s call it “<strong>qgis_reports</strong>”.</p></li>
</ul>
<div class="columns">
<div class="column" style="width:60%;">
<ul>
<li><p>Inside that folder, create these folders:</p>
<ul>
<li><p>“<strong>data</strong>” - for all the data we will use to make our maps, split into:</p>
<ul>
<li><p>“<strong>raw</strong>” - raw data from your research or the internet</p></li>
<li><p>“<strong>processed</strong>” - any data you’ve modified</p></li>
</ul></li>
<li><p>“<strong>output</strong>” - for any maps or images we export</p></li>
<li><p>“<strong>temp</strong>” - this folder isn’t necessary, but when you’re playing around and testing, it stops things getting messy.</p></li>
</ul></li>
<li><p>Finally, let’s save our .qgz project file inside the “<strong>qgis_reports</strong>” folder, named “<strong>qgis_reports_map.qgz</strong>”</p></li>
</ul>
</div><div class="column" style="width:5%;">
<!-- empty column to create gap -->
</div><div class="column" style="width:30%;">
<p><img src="images/folder.png" class="img-fluid"></p>
</div><div class="column" style="width:5%;">
<!-- empty column to create gap -->
</div>
</div>
<p>Your .qgz file should always be in the highest level folder, so it’s only looking down into folders for data, not back out.</p>
<p>This might feel unnecessary now, but things quickly get out of control and hard to find if you don’t have a good folder structure.</p>
<p>Let’s add an <strong>OpenStreetMap</strong> basemap to locate ourselves on the globe:</p>
<ul>
<li><code>Browser panel &gt; XYZ Tiles &gt; OpenStreetMap</code> (double-click, or drag and drop into the Layers panel).</li>
</ul>
<p>And finally change our CRS to match our project area (Brisbane) for today to EPSG:7856 - GDA2020 / MGA zone 56</p>
<ul>
<li><code>Project &gt; Properties</code> click the <code>CRS</code> tab, filter for <strong>7856</strong>, select <strong><code>EPSG:7856 - GDA2020 / MGA zone 56</code></strong> and click <code>OK</code></li>
</ul>
</section>
<section id="todays-aims" class="level2">
<h2 class="anchored" data-anchor-id="todays-aims">Today’s Aims</h2>
<p>Main aims:</p>
<ul>
<li>Create a pretty map for output</li>
<li>Automate our map description</li>
</ul>
<p>If we have time:</p>
<ul>
<li>Learn to use Web Mapping Services</li>
<li>Georeference an Image</li>
</ul>
</section>
<section id="download-the-data" class="level2">
<h2 class="anchored" data-anchor-id="download-the-data">Download the Data</h2>
<p>Today we’re going to focus on making a pretty map, so let’s start by populating our map with some pre-generated data.</p>
<p>The <strong>data</strong> for this session can be directly downloaded from <a href="https://github.com/uqlibrary/technology-training-assets/raw/refs/heads/master/QGIS/reports/report_data.zip">this link</a>.</p>
<p>Once downloaded, extract the archive into your <strong>raw</strong> folder within your <strong>data</strong> folder.</p>
<p>Within QGIS, go to the <strong>Browser</strong> panel, open <strong><code>Project Home &gt; data &gt; raw</code>,</strong> then drag and drop each of your files into themap canvas.</p>
<p>You should have three new layers: <strong>Artefacts</strong>, <strong>Paths</strong>, and <strong>Project_area</strong></p>
</section>
<section id="change-the-symbology" class="level2">
<h2 class="anchored" data-anchor-id="change-the-symbology">Change the Symbology</h2>
<p>Our vector layers are assigned a random colour when we load them. We now want to make them look better.</p>
<section id="point-geometry" class="level3">
<h3 class="anchored" data-anchor-id="point-geometry">Point Geometry</h3>
<ul>
<li>Open the <code>Layer Styling</code> panel by pressing <strong>F7</strong></li>
<li>Select the <strong>Artefacts</strong> layer from either the <code>Layer Styling</code> panel, or the <code>Layers</code> panel.</li>
<li>In the <code>Layer Styling</code> panel, change <strong><code>Single Symbol</code></strong> to <code>Categorised</code></li>
<li>From <code>Value</code> select <strong>Artefact Type</strong></li>
<li>Click the <strong><code>Classify</code></strong> button</li>
</ul>
<p>The random colours that QGIS gives you aren’t always pretty, so let’s change the colours</p>
<ul>
<li><p>Click the dropdown next to the <code>Color ramp</code></p></li>
<li><p>Click <code>Create New Color Ramp...</code>, select <code>Catalog: ColorBrewer</code>, and click <code>OK</code></p></li>
<li><p>Click the dropdown next to <code>Scheme name</code> and choose <strong><code>Set1</code></strong></p>
<ul>
<li>This is a qualitative colour scheme that is easy to distinguish, <strong>Dark 2</strong> and <strong>Paired</strong> are also good options, you can find out more about <a href="https://colorbrewer2.org">ColorBrewer here</a></li>
</ul></li>
<li><p>Click the <code>back arrow button</code> next to <strong>Edit Ramp</strong></p></li>
</ul>
<p>Now that we have a nice colour scheme, let’s give it a contrasting Stroke color, and a new shape. The default is usually black, but I find this to look harsh, let’s make it a darker shade of the <strong>Fill colour</strong></p>
<ul>
<li>Double click on the symbol of the <code>Artefact Scatter</code>
<ul>
<li>Click <strong>Simple Marker</strong> - this will allow us to change the fill, stroke, and shape of the marker
<ul>
<li>Click the dropdown next to <code>Stroke color</code>, click <code>Pick Color</code>, and then use the dropper to select the color from the <code>Fill Color</code> above, it should copy the colour!</li>
</ul></li>
<li>Now click directly on the <code>Stroke color</code> color box, this will take you to the <code>Select Stroke Color</code> window
<ul>
<li>Drag the slider next to <code>V</code> to give us a darker shade of red</li>
<li>Click the <code>back arrow button</code> next to <strong>Artefact Scatter &gt; Select Stroke Color</strong></li>
</ul></li>
<li>From the bottom of the window select another shape, let’s go with the <strong>Triangle</strong></li>
</ul></li>
<li>Click the <code>back arrow button</code> next to <strong>Artefact Scatter</strong></li>
</ul>
<p>Repeat these steps for the <strong>Single Artefact</strong> - although you can leave the shape as a circle.</p>
<p>If you want, you can change the properties of all symbols at once:</p>
<ul>
<li><p>Simply click in the white space below your symbol classes so that none are selected.</p></li>
<li><p>If you click on the button next to <code>Symbol</code>, it will take you to <code>Symbol Settings</code></p>
<ul>
<li><p>Try increasing the size of the symbols to 3mm</p></li>
<li><p><strong>WARNING</strong> if you change the <strong>Stroke color</strong> here, it will change the stroke for all of your symbols, undoing your work from above.</p></li>
</ul></li>
<li><p>Click the <code>back arrow button</code> next to <strong>Symbol Settings</strong></p></li>
</ul>
</section>
<section id="line-geometry" class="level3">
<h3 class="anchored" data-anchor-id="line-geometry">Line Geometry</h3>
<p>We can also make our lines look nice. Sometimes it can be as simple as picking a contrasting colour, and adding some more width. Sometimes it can be very useful to add some dashes to your line.</p>
<ul>
<li>Select the <strong>Paths</strong> layer from the <code>Layer Styling</code> panel</li>
<li>Under <code>Line</code>, click <code>Simple Line</code>
<ul>
<li>Change the <code>Color</code> to a colour that is different to your points, and stands out from the map. I’m going to use orange</li>
<li>Increase the <code>Stroke width</code> to 1mm - it looks big now, but will look better on your exported map later</li>
<li>Click the <strong>green +</strong> next to <code>Line</code> to add another line symbol<br>
(You can add as many simple lines, as you like, you can even change this with <code>Symbol layer type</code> to Arrows, Hashed lines, Filled lines, and more.)
<ul>
<li>Increase the <code>Stroke width</code> to 1mm to match</li>
<li>Change the <code>Stroke style</code> from <strong>Solid Line</strong> to <strong>Dashed Line</strong></li>
<li>Change <code>Cap style</code> from <strong>Square</strong> to <strong>Round</strong></li>
<li>Tick <code>Use custom dash pattern</code></li>
<li>Click on the <strong>dashed line</strong> below the tick box<br>
I like to set my <strong>Dash</strong> to 3mm and my <strong>Space</strong> to 5mm</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="polygon-geometry" class="level3">
<h3 class="anchored" data-anchor-id="polygon-geometry">Polygon Geometry</h3>
<p>Depending on your map, you may want your polygon to remain solid, to be transparent, have hatched lines, or simply be an outline. As our project area has items inside it, it is probably best suited as an outline.</p>
<ul>
<li>Select the <strong>Project_area</strong> layer from the <code>Layer Styling</code> panel</li>
<li>Under <code>Fill</code>, click <code>Simple Fill</code>
<ul>
<li>Change <code>Fill style</code> from <strong>Solid</strong> to <strong>No Brush</strong>
<ul>
<li>Note that this is where you could add horizontal, diagonal, or many other styles as a fill.</li>
</ul></li>
<li>Change <code>Stroke color</code> to something bright, like <strong>Yellow</strong></li>
<li>Increase the <code>Stroke width</code> to 1mm</li>
</ul></li>
</ul>
</section>
</section>
<section id="labels" class="level2">
<h2 class="anchored" data-anchor-id="labels">Labels</h2>
<p>Let’s add some labels to our data.</p>
<ul>
<li>Select the <strong>Artefacts</strong> layer from the <code>Layer Styling</code> panel
<ul>
<li>In the <code>Layer Styling</code> panel, click the <strong>yellow abc</strong> <code>Labels</code> tab
<ul>
<li>Change <code>No Labels</code> to <code>Single Labels</code></li>
<li>Change the <code>Value</code> to <strong>fid</strong></li>
<li>Change the <code>Color</code> to <strong>white</strong></li>
<li>Just below the <code>Value</code> dropdown, click the third <strong>abc</strong> tab for <code>Buffer</code>
<ul>
<li>Tick the <code>Draw text buffer</code> box</li>
<li>Change the <code>Size</code> to <strong>0.8</strong></li>
<li>Change the <code>Color</code> to <strong>black</strong> - you could have reversed the two colours, but I prefer this contrast</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="styles" class="level2">
<h2 class="anchored" data-anchor-id="styles">Styles</h2>
<p>If you want to try different looks for a feature, but not have to undo everything, you can save them as <strong>Styles</strong></p>
<ul>
<li>In the <code>Layers</code> panel, <code>Right click on Project_area &gt; Styles &gt; Add...</code></li>
<li>Name the style <strong>Project Point</strong></li>
<li>Select the <strong>Project_area</strong> layer from either the <code>Layer Styling</code> panel
<ul>
<li>Under <code>Fill</code>, click <code>Simple Fill</code></li>
<li>Change <code>Symbol layer type</code> from <strong>Simple Fill</strong> to <strong>Centroid Fill</strong></li>
<li>Click <strong>Simple Marker</strong> and change the <code>Size</code> to 3 - you can also change the <strong>Stroke color</strong> if you like</li>
</ul></li>
</ul>
<p>Now we have a point as the centre of our polygon, we can edit this style and revert back to the original whenever we like</p>
</section>
<section id="themes" class="level2">
<h2 class="anchored" data-anchor-id="themes">Themes</h2>
<p>Themes work similarly to styles, but instead of changing the layer styling, it changes the layers present. We can use themes to create multiple looks for our map that we can easily swap between. Let’s create a map for our future <strong>Inset Map</strong></p>
<ul>
<li>In the <code>Layers</code> panel, hide the <strong>Paths</strong> and <strong>Artefacts</strong> layers by unticking the boxes next to them.</li>
<li>Now click the <strong>Eye</strong> icon (Manage Map Themes) at the top of the <code>Layers</code> panel, and click <code>Add theme...</code>
<ul>
<li>Let’s name our new theme <strong>Inset</strong>, and click <code>OK</code></li>
</ul></li>
<li>Change the <strong>Project_area</strong> back to our original <strong>Default</strong> style:
<ul>
<li><code>Right click on Project_area &gt; Styles (2) &gt; default</code>The map should return to how it looked before.</li>
</ul></li>
</ul>
<p>Nothing exciting will happen <em>yet</em>, but we will be able to use this later.</p>
</section>
<section id="basemaps" class="level2">
<h2 class="anchored" data-anchor-id="basemaps">Basemaps</h2>
<p>Unless we really need everything on the <strong>OpenStreetMap</strong>, it is too busy, and distracting. Let’s load in a new basemap. There are many ways of doing this, in the past we’ve used the <strong>QuickMapServices</strong> plugin to load in new basemaps, and used <strong>XYZ tiles</strong> to load in basemaps, now we can go to the next step and source them externally.</p>
<p>Today we’re going to use a <strong>WMTS (Web Map Tile Service)</strong> from ESRI.</p>
<ul>
<li>Scroll down the <code>Browser</code> panel until your see <strong>WMS/WMTS</strong></li>
<li>Right click WMS/WMTS and select <code>New Connection...</code>
<ul>
<li>In <code>Name</code> type <strong>ESRI World Imagery</strong></li>
<li>In <code>URL</code> paste:<br>
https://services.arcgisonline.com/arcgis/rest/services/World_Imagery/MapServer/WMTS/1.0.0/WMTSCapabilities.xml</li>
<li>Click <code>OK</code></li>
</ul></li>
<li>In the <code>Browser</code> panel, navigate <code>WMS/WMTS &gt; ESRI World Imagery</code> and double click on <strong>default028mm</strong>
<ul>
<li>This is a very high resolution aerial basemap, however when you zoom closely in many areas it will often show “Map data not yet available” at a scale around <strong>1:300</strong></li>
<li>The <strong>GoogleMapsCompatible</strong> is the same map at lower resolution, however it doesn’t have the “Map data not yet available” issue</li>
</ul></li>
<li>Arrange the layers so that the <strong>World Imagery</strong> layer is under your other layers (you can hide the <strong>OpenStreetMap</strong> now)</li>
</ul>
</section>
<section id="themes-again" class="level2">
<h2 class="anchored" data-anchor-id="themes-again">Themes (again)</h2>
<p>Now that we’ve made some changes, we can see what themes do.</p>
<ul>
<li>In the <code>Layers</code> panel, click the <strong>Eye</strong> icon (Manage Map Themes), click <code>Add theme...</code></li>
<li>Let’s name our new theme <strong>Main</strong>, and click <code>OK</code></li>
<li>Now, click the <strong>Eye</strong> icon again
<ul>
<li>You will see that there are two check box options at the bottom: <strong>Inset</strong> and <strong>Main</strong></li>
<li>You can cycle between these two themes by choosing one or the other</li>
<li>If you want to update a theme, simply hide/unhide the layers you want, go to <code>Eye icon &gt; Replace theme...</code> and then select the theme you want to overwrite.</li>
</ul></li>
<li>Save your project</li>
</ul>
</section>
<section id="layout-manager" class="level2">
<h2 class="anchored" data-anchor-id="layout-manager">Layout Manager</h2>
<p>Now we can prepare our map for export.</p>
<ul>
<li>Navigate to <code>Project &gt; Layout Manager...</code>
<ul>
<li>Under <strong>New from Template</strong> click <code>Create</code>, name the map <strong>Project Map</strong></li>
</ul></li>
<li>This will open the <strong>Layout Manager</strong></li>
</ul>
<section id="page-properties" class="level3">
<h3 class="anchored" data-anchor-id="page-properties">Page Properties</h3>
<p>Before we do anything, let’s set up out environment.</p>
<ul>
<li>Navigate to <code>Layout &gt; Page Properties..</code>
<ul>
<li>Here we can choose the size and orientation of our map.</li>
<li>A4 is sensible, and it means you know the map will fit neatly into a report.</li>
<li>Portrait means you can have a full page map without rotating the page in your report. But some spatial layouts make more sense in Landscape. Use your judgement.</li>
</ul></li>
</ul>
</section>
<section id="guides" class="level3">
<h3 class="anchored" data-anchor-id="guides">Guides</h3>
<p>Guides seem unnecessary, but they make lining things up, much much easier.</p>
<ul>
<li>In the right menu, click <code>Guides</code></li>
<li>Click the <strong>green +</strong> under <strong>Horizontal Guides</strong> (if your canvas is a Landscape, choose <strong>Vertical Guides</strong> for this step)</li>
<li>A new row should appear, click on the <strong>0</strong> and change it to <strong>235</strong></li>
</ul>
</section>
<section id="map" class="level3">
<h3 class="anchored" data-anchor-id="map">Map</h3>
<ul>
<li>Add your map by clicking the map icon in the left menu, or navigating <code>Add Item &gt; Add Map</code>
<ul>
<li>Your mouse will now be a <strong>+</strong></li>
<li>If you hover over the top corner of the canvas, the mouse should snap to the corner</li>
<li>Click and drag until your mouse snaps to the corner created by the side of the canvas, and the guide you added</li>
</ul></li>
<li>In the <code>Items</code> panel on the right, double click on <strong>Map 1</strong> and rename it <strong>Main</strong>
<ul>
<li>Giving Items clear names makes this process much more straightforward</li>
</ul></li>
</ul>
</section>
<section id="scale" class="level3">
<h3 class="anchored" data-anchor-id="scale">Scale</h3>
<p>Okay, we have our map, but it’s not zoomed in right. This is always a little tricky.</p>
<p>You <em>could</em> click the <strong>Move item content</strong> button on the left menu(or press <code>C</code> on your keyboard), as this would allow you to drag the map around internally, and zoom in with your scroll wheel. <strong>But there is an easier way!</strong></p>
<ul>
<li>Navigate back to your <strong>qgis_reports</strong> window
<ul>
<li>Right click on your <strong>Project_area</strong> layer and select <strong>Zoom to Layer(s)</strong></li>
</ul></li>
<li>Navigate back to your <strong>Project Map</strong> window
<ul>
<li>In the right menu, click <code>Item Properties</code></li>
<li>You will see these options: <img src="layoutmanager_scale.png" class="img-fluid"></li>
<li>Click the first orange arrow button to <strong>Set Map Extent to Match Main Canvas Extent</strong></li>
<li>Click the third orange arrow button to <strong>Set Map Scale to Match Main Canvas Scale</strong>
<ul>
<li>The other buttons do the reverse</li>
</ul></li>
<li>I like to then round the <strong>Scale</strong> up to a nice round number from something like 3814 to 4000</li>
</ul></li>
</ul>
</section>
<section id="inset-map" class="level3">
<h3 class="anchored" data-anchor-id="inset-map">Inset Map</h3>
<p>You can add your inset map to the blank space at the bottom (or side) of you map canvas, or you can put it on top of you main map in unused space. However, we don’t have an edge to snap our inset map on to, so guides are useful here too.</p>
<ul>
<li>In the right menu, click <code>Guides</code>
<ul>
<li>Click the <strong>green +</strong> under <strong>Horizontal Guides</strong>
<ul>
<li>A new row should appear, click on the <strong>0</strong> and change it to <strong>10</strong></li>
</ul></li>
<li>Click the <strong>green +</strong> under <strong>Vertical Guides</strong>
<ul>
<li>A new row should appear, click on the <strong>0</strong> and change it to <strong>10</strong></li>
</ul></li>
</ul></li>
</ul>
<p>We don’t need more guides unless you want a precise inset map size, but I’m happy so it’s aligned evenly with the top and side border.</p>
<ul>
<li>Add your map by clicking the map icon in the left menu, or navigating <code>Add Item &gt; Add Map</code>
<ul>
<li>Hover over the corner created by your guides, the mouse should snap to the corner
<ul>
<li>Click and drag until you’re happy with the size of your inset window (without overlapping any important features on the main map)</li>
</ul></li>
</ul></li>
<li>Zoom out on the inset map, by selecting it from the <code>Items</code> tab and following the same approach as the <strong>Main map</strong>
<ul>
<li>Or by using <strong>Move item content</strong> button on the left menu (or press <code>C</code> on your keyboard), clicking on the inset and using the scroll wheel</li>
</ul></li>
<li>In the <code>Items</code> panel on the right, double click on <strong>Map 2</strong> and rename it <strong>Inset</strong></li>
<li>Scroll to the bottom of the <code>Item Properties</code> panel and tick the <code>Frame</code> box
<ul>
<li>This gives our inset a nice border which we can customise further</li>
</ul></li>
</ul>
<p>Now we have our maps added, we can bring our themes in to play again.</p>
</section>
<section id="themes-again-1" class="level3">
<h3 class="anchored" data-anchor-id="themes-again-1">Themes (again!)</h3>
<ul>
<li>Select <strong>Main</strong> from the <code>Items</code> panel
<ul>
<li>In <code>Item Properties</code>, you will see <strong>Layers</strong> section</li>
<li>Tick <code>Follow map theme</code> and from the dropdown change <strong>none</strong> to <strong>Main</strong></li>
<li>Now this map is linked to the <strong>Main</strong> theme and will only update when we change that theme, or the layers attributed to the theme</li>
</ul></li>
<li>Repeat this step for <strong>Inset</strong></li>
</ul>
<p>This is also a big advantage for using <strong>Styles</strong>, as the point is a better representation of our site on the inset map.</p>
</section>
<section id="title" class="level3">
<h3 class="anchored" data-anchor-id="title">Title</h3>
<ul>
<li>Add a text box to your map by clicking the <code>Add Label</code> icon in the left menu, or navigating <code>Add Item &gt; Add Label</code></li>
<li>Click and drag in the empty canvas below the map where you want to put your title
<ul>
<li>In the <code>Item Properties</code> panel remove the <strong>Lorem ipsum</strong> text, and add <strong>Brisbane Botanic Gardens</strong></li>
<li>Under <strong>Appearance</strong> click the <code>Font</code> box to open the <code>Label Font</code> window
<ul>
<li>Change the text size to 18, you can make other font changes here too</li>
<li>Click the <code>back arrow button</code> next to <code>Label Font</code></li>
</ul></li>
</ul></li>
<li>In the <code>Items</code> panel on the right, double click on <strong>Brisbane Botanic Gardens</strong> and rename it <strong>Title</strong></li>
</ul>
<p>Okay, that’s a some fairly basic text, let’s do something interesting with the descriptive text.</p>
</section>
<section id="dynamic-text" class="level3">
<h3 class="anchored" data-anchor-id="dynamic-text">Dynamic Text</h3>
<ul>
<li>Add another text box to your map by clicking the <code>Add Label</code> icon in the left menu, or navigating <code>Add Item &gt; Add Label</code>
<ul>
<li>Click and drag in the empty canvas below the title</li>
<li>In the <code>Items</code> panel on the right, double click on “<strong>Lorem ipsum</strong>” and rename it <strong>Description</strong>
<ul>
<li>In the <code>Item Properties</code> panel remove the “<strong>Lorem ipsum</strong>” text and then enter:
<ul>
<li><strong>Created by:</strong></li>
<li><strong>Date:</strong></li>
<li><strong>Scale: 1:</strong></li>
<li><strong>Datum:</strong></li>
<li><strong>Sources:</strong></li>
<li>Normally we’d have to enter the details for each of these manually, but we can use <strong>Dynamic Text</strong> to do it for us</li>
</ul></li>
</ul></li>
</ul></li>
<li>In the <code>Item Properties</code> panel, click next to <strong>Date:</strong>, so the cursor is sitting there
<ul>
<li>Under the <strong>Main Properties</strong> text box, click <code>Dynamic Text &gt; Current Date &gt; Day/Month/Year (26/09/2025)</code></li>
<li>This will insert code that looks like this: <code>[%format_date(now(), 'dd/MM/yyyy')%]</code> which automatically adds today’s date</li>
</ul></li>
<li>Now repeat those steps for the rest:
<ul>
<li>Click next to <strong>Scale: 1:</strong>
<ul>
<li>Click <code>Dynamic Text &gt; Map Properties &gt; Main &gt; Scale (4000)</code>
<ul>
<li>The code will look like this: <code>[%format_number(item_variables('Main')['map_scale']</code> which automatically adds the main map’s scale</li>
</ul></li>
</ul></li>
<li>Click next to <strong>Datum:</strong>
<ul>
<li>Click <code>Dynamic Text &gt; Map Properties &gt; Main &gt; CRS Name (GDA2020 / MGA zone 56)</code>
<ul>
<li>The code will look like this: <code>[%item_variables('Main')['map_crs_description']%]</code> which automatically adds the main map’s CRS</li>
</ul></li>
</ul></li>
<li>Click next to <strong>Sources:</strong>
<ul>
<li>Click <code>Dynamic Text &gt; Layer Credits</code>
<ul>
<li>The code will look like this: <code>[%array_to_string(map_credits())%]</code> which automatically adds the sources built in to some of the data used</li>
<li>Note that this is built into the Metadata (layer <code>Properties &gt; Metadate &gt; Access</code> under <strong>Rights</strong>) of the baselayers, and the layers we downloaded. Not all layers will necessarily have this information, and sometimes it’s very detailed and clunky.</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
<p>You could also add any extra text details such as the locality, disclaimers, or any other details needed.</p>
</section>
<section id="shapes" class="level3">
<h3 class="anchored" data-anchor-id="shapes">Shapes</h3>
<p>We can add a border around our information section. This isn’t necessary, but it looks nice!</p>
<ul>
<li>Add a rectangle to your map by clicking the <code>Add Shape</code> icon in the left menu, or navigating <code>Add Item &gt; Add Shape &gt; Add Rectangle</code>
<ul>
<li>Hover over the corner created by the bottom of the map and the side of the canvas, the mouse should snap to the corner</li>
<li>Click and drag until your mouse snaps to the opposite corner of the canvas</li>
</ul></li>
<li>In the <code>Items</code> panel, click the box next to <code>Style</code>, this will take you to the <code>Symbol Settings</code> window
<ul>
<li>Click <strong>Simple Fill</strong>
<ul>
<li>Change <code>Symbol layer type</code> from <strong>Simple Fill</strong> to <strong>Outline: Simple Line</strong></li>
<li>Change the <code>Color</code> to a nice dark green</li>
<li>Increase the <code>Stroke width</code> to 5mm</li>
<li>Scroll to the bottom and tick the <code>Draw line only inside polygon</code> box</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="legend" class="level3">
<h3 class="anchored" data-anchor-id="legend">Legend</h3>
<ul>
<li>Add a Legend your map by clicking the <code>Add Legend</code> icon in the left menu, or navigating <code>Add Item &gt; Add Legend</code></li>
</ul>
<p>The legend always has too much detail to start. Let’s clean it up.</p>
<ul>
<li>In the <code>Item Properties</code> panel, change the <code>Title</code> to <strong>Legend</strong></li>
<li>Under <strong>Legend Items</strong> untick <code>Auto update</code>
<ul>
<li>Click the drop down next to <strong>Artefacts</strong>, select the empty item, and then click the <strong>red –</strong> to remove it</li>
<li>Remove the <strong>Imagery</strong> and the <strong>OpenStreetMap</strong> layer too</li>
<li>Right click on <strong>Artefacts</strong> and select <strong>Hidden</strong>, we don’t need to see the group name</li>
<li>Double click on <strong>Project_area</strong> and rename it to <strong>Project Area</strong></li>
</ul></li>
<li>Scroll down to <strong>Fonts and Text Formatting</strong>, under <strong>Legend Title</strong> click the <strong>Title font</strong> button
<ul>
<li>Change the <code>Size</code> to <strong>13</strong>
<ul>
<li>You can change the <strong>Item Labels</strong> font size too, but <strong>12</strong> is fine here</li>
</ul></li>
</ul></li>
<li>Scroll down to <strong>Spacing</strong>
<ul>
<li>Change <strong>Legend Title</strong> <code>Space below</code> to <strong>2</strong>
<ul>
<li>You can change the <strong>Legend Items</strong> space between symbols too, but <strong>2.5</strong> is fine here</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="north-arrow" class="level3">
<h3 class="anchored" data-anchor-id="north-arrow">North Arrow</h3>
<ul>
<li>Add a North Arrow your map by clicking the <strong>Add North Arrow</strong> icon in the left menu, or navigating <code>Add Item &gt; Add North Arrow</code>
<ul>
<li>Click and drag in the blank space under the map until you’re happy with the size of the arrow</li>
<li>In the <code>Item Properties</code> panel, under the <code>SVG Images</code> box, type <strong>arrow</strong> in the search bar
<ul>
<li>Choose a North arrow you like</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="scalebar" class="level3">
<h3 class="anchored" data-anchor-id="scalebar">Scalebar</h3>
<ul>
<li>Add a scale bar to your map by clicking the <strong>Add Scale Bar</strong> icon in the left menu, or navigating <code>Add Item &gt; Add Scale Bar</code>
<ul>
<li>You can click and drag in the blank space under the map, although the scale bar size will be set in a moment</li>
<li>In the <code>Item Properties</code> panel, choose the appropriate <code>Scalebar units</code> - usually <strong>Metres</strong> or <strong>Kilometres</strong>
<ul>
<li>Under <strong>Segments</strong>, change the right <code>Segments</code> from <strong>right 2</strong> to <strong>right 4</strong></li>
<li>Change <code>Fixed width</code> to <strong>50</strong> units (on this map, I have used 50 metre intervals, as that feels understandable)</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="finessing" class="level3">
<h3 class="anchored" data-anchor-id="finessing">Finessing</h3>
<p>You will remember that we orignally made the points and lines quite large, but you will see that on this export map they are a more reasonable size. This is because we set them to millimetres, which will scale with our screen resolution when we zoom on the original map, but will scale to the size of our fixed dimensions A4 page in the <code>Layout Manager</code>.</p>
<p>Our point labels need to be resized too. Return to the <code>qgis_reports</code> window and try changing their font size to <strong>12</strong> in the <code>Labels</code> tab of the <code>Layer Styling</code> panel.</p>
<p>If the change doesn’t flow through when you return to the <code>Layout Manager/Project Map</code> window, try clicking the refresh button in the top menu.</p>
<p>Move anything you need around to get it looking sharp. You could try using <code>Guides</code> if needed.</p>
<p>Save your project.</p>
<ul>
<li><code>Layout &gt; Save Project</code></li>
</ul>
</section>
<section id="export-options" class="level3">
<h3 class="anchored" data-anchor-id="export-options">Export options</h3>
<p>Now that we’re done we can export. Generally to PDF or Image. Today we will use image.</p>
<ul>
<li><code>Layout &gt; Export as Image...</code>
<ul>
<li>You will see a popup warning about WMS servers. Some tile services have limits to the size of file you can export like this. If you exceed it, your basemap will be blank.</li>
<li>Click <code>OK</code></li>
</ul></li>
<li>Navigate to your project’s <strong>output</strong> folder, and give the file a meaningful name “<strong>Brisbane Botanic Gardens Map</strong>”, click <code>Save</code></li>
<li>The <code>Export resolution</code> should automatically be a print quality <strong>300dpi</strong>, and the width and height were set by our A4 selection.</li>
<li>Click <code>Save</code></li>
<li>Navigate to and open your file to make sure it worked!</li>
</ul>
</section>
</section>
<section id="save-a-map-template" class="level2">
<h2 class="anchored" data-anchor-id="save-a-map-template">Save a Map Template</h2>
<p>This is crucial! Save your hardwork for next time!</p>
<ul>
<li><code>Layout &gt; Save as Template...</code></li>
<li>Navigate to a folder you can easily find again, such as a broader QGIS folder.</li>
<li>Give it a meaningful name “<strong>Report_Map_Template</strong>”</li>
<li>Click <code>Save</code></li>
</ul>
</section>
<section id="load-a-map-template" class="level2">
<h2 class="anchored" data-anchor-id="load-a-map-template">Load a Map Template</h2>
<p>Next time you need to make an export you can load your template in.</p>
<p>Open an old QGIS Project.</p>
<ul>
<li>Navigate to <code>Project &gt; Layout Manager...</code>
<ul>
<li>Under <strong>New from Template</strong> change <code>Empty Layout</code> to <code>Specific</code>, click the three dots and navigate to your <strong>Report_Map_Template</strong>, select it, and click <code>Open</code></li>
<li>Click <code>Create</code></li>
<li>Give the layout an appropriate name, and click <code>OK</code></li>
</ul></li>
<li>This will open the <strong>Layout Manager</strong></li>
</ul>
<p>You will see that the inset and main maps are in the wrong location, the title is wrong, the scale bar is off, and the Legend is empty. But you know how to fix these!</p>
<section id="map-scale" class="level3">
<h3 class="anchored" data-anchor-id="map-scale">Map Scale</h3>
<ul>
<li>Navigate back to your <strong>QGIS</strong> window
<ul>
<li>Right click on the most suitable layer and select <strong>Zoom to Layer(s)</strong></li>
</ul></li>
<li>Navigate back to your <strong>Layout Manager</strong> window
<ul>
<li>Click the <strong>Main</strong> from the <code>Item</code> panel, and click the <code>Item Properties</code> panel</li>
<li><img src="layoutmanager_scale.png" class="img-fluid"></li>
<li>Click the first orange arrow button to <strong>Set Map Extent to Match Main Canvas Extent</strong></li>
<li>Click the third orange arrow button to <strong>Set Map Scale to Match Main Canvas Scale</strong>
<ul>
<li>The other buttons do the reverse</li>
</ul></li>
<li>Round the <strong>Scale</strong> up to a nice round number</li>
</ul></li>
<li>Fix the inset map too</li>
</ul>
</section>
<section id="scalebar-1" class="level3">
<h3 class="anchored" data-anchor-id="scalebar-1">Scalebar</h3>
<ul>
<li>Click the <strong>Scalebar</strong> from the <code>Item</code> panel</li>
<li>In the <code>Item Properties</code> panel, change <code>Scalebar units</code> to <strong>Metres</strong> or <strong>Kilometres</strong> - Change <code>Fixed width</code> to an appropriate unit</li>
</ul>
</section>
<section id="legend-1" class="level3">
<h3 class="anchored" data-anchor-id="legend-1">Legend</h3>
<ul>
<li>Click the <strong>Legend</strong> from the <code>Item</code> panel</li>
<li>In the <code>Item Properties</code> panel, under the <strong>Legend Items</strong> box and click the <strong>green +</strong> to add a layer
<ul>
<li>Double click on and rename the layer if needed</li>
<li>Repeat for all layers you need to list</li>
</ul></li>
</ul>
</section>
<section id="title-1" class="level3">
<h3 class="anchored" data-anchor-id="title-1">Title</h3>
<ul>
<li>Click the <strong>Title</strong> from the <code>Item</code> panel</li>
<li>In the <code>Item Properties</code> panel, under the <strong>Main Properties</strong> rename the title</li>
</ul>
<p>And that’s it, you now have another map looking the way you want it, without too much hassle.</p>
</section>
</section>
<section id="feedback" class="level2">
<h2 class="anchored" data-anchor-id="feedback">Feedback</h2>
<p>Please visit our website to <a href="https://web.library.uq.edu.au/study-and-learning-support/training-and-workshops/software-training-resources">provide feedback</a> and find upcoming training courses we have on offer.</p>
</section>
<section id="more-data-sources" class="level2">
<h2 class="anchored" data-anchor-id="more-data-sources">More Data Sources</h2>
<section id="aerial-imagery" class="level3">
<h3 class="anchored" data-anchor-id="aerial-imagery">Aerial Imagery</h3>
<p>There are a few places you can aquire aerial photography, today we will look at two sources, one is freely available Government Data from <strong>QImagery</strong>, the other is accessible from using your UQ credentials.</p>
<ul>
<li>Go to <a href="https://qimagery.information.qld.gov.au/">QImagery</a></li>
<li>Read and tick the “I acknowledge I have read and agree to the Terms &amp; Conditions” box, and click <code>Get Started</code></li>
<li>Click the Search button, select ‘locality, town or city’ and search for “St Lucia” in the “Enter search term” search box and select the first result</li>
<li>It will zoom to your selected location then click the newly appeared <code>Search</code> button</li>
<li>From here you can select from a wide array of images of QLD over many years.</li>
<li>Click one of the drop-downs and hover over the options to see where those images are located. Preview the image by clicking View.</li>
<li>You can then download your desired images by clicking “Download” and selecting TIFF (georeferenced)</li>
<li>Move the TIFF file(s) to your project folder, and open them in QGIS</li>
</ul>
<p>You can also get historical images from Geoscience Australia’s <a href="https://experience.arcgis.com/experience/9a0ecbafe94f49829712b46fc69186ff">Historical Aerial Photo (HAP) Collection</a></p>
</section>
<section id="georeferencing" class="level3">
<h3 class="anchored" data-anchor-id="georeferencing">Georeferencing</h3>
<p>I will be happy to go over this in person, but if you need a guide, here is the <a href="https://docs.qgis.org/3.40/en/docs/training_manual/forestry/map_georeferencing.html">QGIS how to</a></p>
</section>
<section id="more-web-mapping-services" class="level3">
<h3 class="anchored" data-anchor-id="more-web-mapping-services">More Web Mapping Services</h3>
<p>Add any of these URLs via <strong>ArcGIS REST Servers</strong> in QGIS</p>
<p><a href="https://www.data.qld.gov.au/dataset/queensland-imagery-latest-state-program-public-basemap-service">QLD Gov Aerial Basemap</a></p>
<p><a href="https://spatial-gis.information.qld.gov.au/arcgis/rest/services/Transportation/RoadsAndTracks/MapServer">QLD Gov Roads</a></p>
<p><a href="https://spatial-gis.information.qld.gov.au/arcgis/rest/services/Boundaries/AdminBoundariesFramework/MapServer">QLD Heritage Areas</a></p>
<p><a href="https://spatial-gis.information.qld.gov.au/arcgis/rest/services">More QLD Gov Services</a></p>
<p><a href="https://services3.arcgis.com/ocUCNI2h4moKOpKX/ArcGIS/rest/services">Brisbane/SEQ Utilities</a></p>
<p><a href="https://services2.arcgis.com/dEKgZETqwmDAh1rP/ArcGIS/rest/services">BCC Data</a></p>
<p><a href="https://services9.arcgis.com/Ov1diE0uxjL6wSzH/ArcGIS/rest/services/">Random User’s Data</a></p>
<p><a href="https://www.arcgis.com/home/search.html?restrict=false&amp;sortField=relevance&amp;sortOrder=desc&amp;focus=layers-weblayers-features#content">10000+ Searchable Feature Layers from ArcGIS</a></p>
<p><a href="https://help.nearmap.com/kb/articles/752">NearMap API</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/uqlibrary\.github\.io\/technology-training\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>